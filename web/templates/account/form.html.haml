= form_for @changeset, @action, fn f ->
  = if @changeset.action do
    .alert.alert-danger
      %p Something went wrong. Check the errors below.
  = end

  .row
    .col.s12
      .input-field
        = text_input f, :name, class: "validate"
        = label f, :name
        = error_tag f, :name

  .row
    .col.s12
      .input-field
        = checkbox f, :credit
        = label f, :credit
        = error_tag f, :credit

  .row
    .col.s12
      .input-field.credit-only.hidden
        = select f, :payee_account_id, @account_map, prompt: "Choose a payee account"
        = label f, :payee_account_id, "Payee account"

  .row
    .col.s12
      .input-field.credit-only.hidden
        = number_input f, :day_of_month, min: "1", max: "31", step: "1"
        = label f, :day_of_month, "Day of month when payment is due"
        = error_tag f, :day_of_month

  .input-field
    = hidden_input f, :user_id, value: @user_id

  .input-field
    = submit "Submit", class: "btn btn-primary"

= end
